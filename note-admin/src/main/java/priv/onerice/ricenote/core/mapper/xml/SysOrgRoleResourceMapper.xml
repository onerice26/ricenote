<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="priv.onerice.ricenote.core.mapper.SysOrgRoleResourceMapper">

    <select id="getResourcesByRoles" resultType="priv.onerice.ricenote.core.entity.SysResource">
        SELECT
        sr.*
        FROM
        sys_org_role_resource orr,
        sys_org_resource sor,
        sys_resource sr
        WHERE
        orr.resource_id = sor.id
        AND sor.resource_id = sr.id
        And sr.data_level = '0'
        And orr.role_id in
        <foreach collection="roles" index="index" item="i" open="(" separator="," close=")">
            #{i}
        </foreach>
    </select>
</mapper>
